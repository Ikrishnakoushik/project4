<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appearance | Prism Studio</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f8fafc;
            --surface: #ffffff;
            --primary: #6366f1;
            --accent: #6366f1;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        body {
            background-color: var(--bg-color);
            font-family: 'Outfit', sans-serif;
            color: var(--text-main);
            margin: 0;
            padding: 0;
            display: flex;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Sidebar similar to main app for consistency */
        .sidebar {
            width: 260px;
            background: var(--surface);
            border-right: 1px solid var(--border);
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100%;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        .brand {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-item {
            padding: 12px 15px;
            border-radius: 12px;
            color: var(--text-muted);
            text-decoration: none;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .nav-item:hover,
        .nav-item.active {
            background: rgba(99, 102, 241, 0.05);
            color: var(--primary);
        }

        .main-content {
            flex: 1;
            margin-left: 260px;
            padding: 40px 60px;
            max-width: 1000px;
        }

        .page-header {
            margin-bottom: 40px;
        }

        .page-header h1 {
            font-size: 2rem;
            margin: 0 0 10px 0;
            font-weight: 700;
        }

        .page-header p {
            color: var(--text-muted);
            margin: 0;
        }

        .section-title {
            font-size: 1.1rem;
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .theme-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .theme-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--card-shadow);
        }

        .theme-card.active {
            border: 2px solid var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }

        /* Mini UI Preview */
        .theme-preview {
            height: 160px;
            background: #f1f5f9;
            /* fallback */
            position: relative;
            padding: 20px;
            display: flex;
            gap: 15px;
        }

        .preview-sidebar {
            width: 25%;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 8px;
            height: 100%;
        }

        .preview-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .preview-hero {
            height: 40%;
            border-radius: 8px;
            background: currentColor;
            /* Uses color from inline style */
            opacity: 0.1;
        }

        .preview-line {
            height: 8px;
            border-radius: 4px;
            background: rgba(0, 0, 0, 0.05);
            width: 80%;
        }

        .theme-info {
            padding: 20px;
        }

        .theme-name {
            font-weight: 700;
            margin-bottom: 5px;
        }

        .theme-desc {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .color-dots {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }

        .dot {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #1e293b;
            color: white;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 500;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            opacity: 0;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 100;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
    </style>
</head>

<body>

    <aside class="sidebar">
        <div class="brand">
            <i class="fas fa-layer-group"></i> Prism
        </div>
        <a href="main.html" class="nav-item">
            <i class="fas fa-home"></i> Home Feed
        </a>
        <a href="#" class="nav-item active">
            <i class="fas fa-palette"></i> Appearance
        </a>
        <div style="flex:1"></div>
        <div style="font-size:0.8rem; color:var(--text-muted); padding: 0 15px;">
            Prism Studio v2.0
        </div>
    </aside>

    <main class="main-content">
        <div class="page-header">
            <h1>Appearance</h1>
            <p>Customize how Prism looks and feels for you. Changes apply globally across the website.</p>
        </div>

        <!-- Theme Selection -->
        <div class="section-title">
            <i class="fas fa-swatchbook" style="color: var(--primary)"></i> Color Themes
        </div>

        <div class="theme-grid" id="themeGrid">
            <!-- Themes will be injected here -->
        </div>

        <div class="section-title">
            <i class="fas fa-font" style="color: var(--text-muted)"></i> Typography
        </div>
        <div style="background: var(--surface); padding: 30px; border-radius: 16px; border: 1px solid var(--border);">
            <h1 style="margin-top:0;">The quick brown fox</h1>
            <p style="font-size: 1.1rem; line-height: 1.6; color: var(--text-muted); margin-bottom: 0;">
                Prism uses <strong>Outfit</strong>, a geometric sans-serif typeface that feels modern and clean. It's
                optimized for legibility across all devices.
            </p>
        </div>

    </main>

    <div id="toast" class="toast">
        <i class="fas fa-check-circle" style="color: #4ade80;"></i>
        <span id="toastMsg">Theme updated!</span>
    </div>

    <script>
        // Define robust themes
        const themes = [
            {
                id: 'default',
                name: 'Prism Light',
                desc: 'The classic clean Prism experience.',
                colors: {
                    '--bg-color': '#f1f5f9',
                    '--surface': '#ffffff',
                    '--primary': '#6366f1',
                    '--accent': '#6366f1',
                    '--accent-hover': '#4f46e5',
                    '--text-main': '#0f172a',
                    '--text-muted': '#64748b',
                    '--border': '#e2e8f0',
                    '--input-bg': '#f8fafc',
                    '--card-shadow': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)'
                }
            },
            {
                id: 'dark',
                name: 'Midnight Pro',
                desc: 'A professional dark mode for focused work.',
                colors: {
                    '--bg-color': '#020617', // Richer dark
                    '--surface': '#0f172a', // Slate 900
                    '--primary': '#818cf8', // Indigo 400
                    '--accent': '#818cf8',
                    '--accent-hover': '#6366f1',
                    '--text-main': '#f8fafc',
                    '--text-muted': '#94a3b8',
                    '--border': '#1e293b',
                    '--input-bg': '#1e293b',
                    '--card-shadow': '0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.3)'
                }
            },
            {
                id: 'rose',
                name: 'Rose Gold',
                desc: 'Soft, warm, and welcoming.',
                colors: {
                    '--bg-color': '#fff1f2',
                    '--surface': '#ffffff',
                    '--primary': '#fb7185',
                    '--accent': '#fb7185',
                    '--accent-hover': '#f43f5e',
                    '--text-main': '#881337',
                    '--text-muted': '#be123c',
                    '--border': '#fecdd3',
                    '--input-bg': '#fff1f2',
                    '--card-shadow': '0 4px 6px -1px rgba(251, 113, 133, 0.15)'
                }
            },
            {
                id: 'forest',
                name: 'Alpine Forest',
                desc: 'Calming greens and nature tones.',
                colors: {
                    '--bg-color': '#f0fdf4',
                    '--surface': '#ffffff',
                    '--primary': '#10b981',
                    '--accent': '#10b981',
                    '--accent-hover': '#059669',
                    '--text-main': '#064e3b',
                    '--text-muted': '#059669',
                    '--border': '#bbf7d0',
                    '--input-bg': '#f0fdf4',
                    '--card-shadow': '0 4px 6px -1px rgba(16, 185, 129, 0.1)'
                }
            },
            {
                id: 'luxury',
                name: 'Luxury Dark',
                desc: 'High contrast black and gold.',
                colors: {
                    '--bg-color': '#000000',
                    '--surface': '#121212',
                    '--primary': '#fbbf24',
                    '--accent': '#fbbf24',
                    '--accent-hover': '#d97706',
                    '--text-main': '#ffffff',
                    '--text-muted': '#a1a1aa',
                    '--border': '#27272a',
                    '--input-bg': '#27272a',
                    '--card-shadow': '0 4px 6px -1px rgba(251, 191, 36, 0.1)'
                }
            }
        ];

        // Init
        const themeGrid = document.getElementById('themeGrid');
        const currentThemeId = localStorage.getItem('prism-theme-id') || 'default';

        // Apply current theme
        const t = themes.find(t => t.id === currentThemeId) || themes[0];
        applyTheme(t);

        // Render Cards
        themes.forEach(theme => {
            const card = document.createElement('div');
            card.className = `theme-card ${theme.id === currentThemeId ? 'active' : ''}`;
            card.onclick = () => selectTheme(theme, card);

            // Generate Preview HTML
            const bg = theme.colors['--bg-color'];
            const surface = theme.colors['--surface'];
            const accent = theme.colors['--primary'];
            const text = theme.colors['--text-main'];

            card.innerHTML = `
                <div class="theme-preview" style="background-color: ${bg};">
                    <div class="preview-sidebar" style="background-color: ${surface}; border-right: 1px solid ${theme.colors['--border']}"></div>
                    <div class="preview-content">
                        <div class="preview-hero" style="background-color: ${surface}; box-shadow: 0 4px 6px rgba(0,0,0,0.05);">
                           <div style="height:100%; width:100%; padding:15px; box-sizing:border-box;">
                                <div style="width: 40px; height: 40px; border-radius: 50%; background: ${accent}; opacity: 0.2; margin-bottom: 10px;"></div>
                                <div style="width: 60%; height: 8px; background: ${text}; opacity: 0.1; border-radius: 4px;"></div>
                           </div>
                        </div>
                    </div>
                </div>
                <div class="theme-info">
                    <div class="theme-name">${theme.name}</div>
                    <div class="theme-desc">${theme.desc}</div>
                    <div class="color-dots">
                        <div class="dot" style="background: ${bg}"></div>
                        <div class="dot" style="background: ${surface}"></div>
                        <div class="dot" style="background: ${accent}"></div>
                    </div>
                </div>
            `;
            themeGrid.appendChild(card);
        });

        function selectTheme(theme, card) {
            // Update UI
            document.querySelectorAll('.theme-card').forEach(c => c.classList.remove('active'));
            card.classList.add('active');

            applyTheme(theme);
            saveTheme(theme);

            showToast(`Applied ${theme.name}`);
        }

        function applyTheme(theme) {
            const root = document.documentElement;
            Object.entries(theme.colors).forEach(([key, value]) => {
                root.style.setProperty(key, value);
            });
        }

        function saveTheme(theme) {
            localStorage.setItem('prism-theme-id', theme.id);
            localStorage.setItem('prism-theme-data', JSON.stringify(theme.colors));
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            document.getElementById('toastMsg').innerText = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
    </script>
</body>

</html>